<script type="text/javascript" src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
<button class="wishlist-btn" data-product-id="{{ productid }}">
  <i class="heart-icon">❤️</i>
</button>
<style>
    .wishlist-btn {
  background: none;
  border: none;
  cursor: pointer;
}
</style>
<script>
$('.wishlist-btn').on('click', function() {
  var productId = $(this).data('product-id');
  var wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];

  if (wishlist.includes(productId)) {
    wishlist = wishlist.filter(function(id) { return id !== productId; });
  } else {
    wishlist.push(productId);
  }

  localStorage.setItem('wishlist', JSON.stringify(wishlist));

  // Actualiza el contador del encabezado
  updateWishlistCount();
});

function updateWishlistCount() {
  var wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
  $('.wishlist-count').text(wishlist.length);
}


</script>